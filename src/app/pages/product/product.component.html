<div class="container-fluid">
  <div class="row">
    <div class="col-xl-2 py-4">
      <ul class="list-group">
        <!-- produk -->
        <li class="list-group-item list-group-item-primary">Produk</li>
        <li class="list-group-item">Kelola Produk</li>
        <li class="list-group-item">Diskon</li>
        <li class="list-group-item">Kategory Produk</li>
        <!-- Toko -->
        <li class="list-group-item list-group-item-primary">Kelola Toko</li>
        <li class="list-group-item">Pembayaran</li>
        <li class="list-group-item">Outlet</li>
        <li class="list-group-item">Inventory</li>
        <!-- Transaksi -->
        <li class="list-group-item list-group-item-primary">Transaksi</li>
        <li class="list-group-item">Penjualan</li>
        <li class="list-group-item">Pembelian</li>
        <!-- Pengaturan -->
        <li class="list-group-item list-group-item-primary">Laporan</li>
        <li class="list-group-item"><a href="/#/laporan" class="text-decoration-none text-muted">Penjualan</a></li>
      </ul>
    </div>

    <div class="col-xl-10 py-4">
      <h2 class="">Produk</h2>
      <div class="bd-highlight d-flex align-items-center mt-3">
        <!-- <label for="exampleFormControlSelect1" class="me-2">Kategori : </label> -->
        <select class="form-select text-center " id="kategori" style="width: 125px; height: 40px;">
          <option>------</option>
          <option>Makanan</option>
          <option>Minuman</option>
          <option>Snack</option>
        </select>
        <!-- add data -->
        <button class="btn btn-primary ms-auto" (click)="open(addData)">Tambah</button>
      </div>

      <table class="table table-responsive table-bordered mt-4">
        <thead class="table" style="background-color: #cfe2ff;">
        <tr>
          <th scope="col">No</th>
          <th scope="col">Produk</th>
          <th scope="col">Kategori</th>
          <th scope="col">Harga</th>
          <th scope="col">Aksi</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of products; index as i">
          <td>{{ i+1}}</td>
          <td>{{item.name}}</td>
          <td>{{item.category}}</td>
          <td>{{item.price}}</td>
          <td>
            <a class="btn btn-warning me-2" (click)="open(editData)">
              <img src="../../../assets/img/edit-solid.svg" alt="" width="18">
            </a>
            <a href="" class="btn btn-danger">
              <img src="../../../assets/img/trash-solid.svg" alt="" width="16">
            </a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<ng-template #addData let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Tambah Data</h4>
    <button type="button" class="close btn" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <div class="mb-3">
          <label for="name" class="form-label">Nama Makanan</label>
          <input type="text" class="form-control" id="name" placeholder="Masukkan nama makanan"
                 formControlName="name" [ngClass]="{ 'is-invalid': submitted && f.name.errors }">
          <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
            <div *ngIf="f.name.errors.required">Name is required</div>
          </div>
        </div>
        <div class="mb-3">
          <label for="category" class="form-label">Kategori Makanan</label>
          <select class="form-select" id="category" formControlName="category">
            <option>------</option>
            <option>Makanan</option>
            <option>Minuman</option>
            <option>Snack</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="price" class="form-label">Harga Makanan</label>
          <input type="number" class="form-control" id="price" placeholder="Masukkan Harga Makanan"
                 formControlName="price" [ngClass]="{ 'is-invalid': submitted && f.price.errors }">
          <div *ngIf="submitted && f.price.errors" class="invalid-feedback">
            <div *ngIf="f.price.errors.required">Price is required</div>
          </div>
        </div>
        <div class="mb-3">
          <label for="hpp" class="form-label">HPP Makanan</label>
          <input type="number" class="form-control" id="hpp" placeholder="Masukkan HPP Makanan"
                 formControlName="hpp" [ngClass]="{ 'is-invalid': submitted && f.hpp.errors }">
          <div *ngIf="submitted && f.hpp.errors" class="invalid-feedback">
            <div *ngIf="f.hpp.errors.required">Price is required</div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="addItem(); onSubmit()">Tambah</button>
  </div>
</ng-template>

<!--edit data-->
<ng-template #editData let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-edit-title">Edit Data</h4>
    <button type="button" class="close btn" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <div class="mb-3">
          <label for="editName" class="form-label">Nama Makanan</label>
          <input type="text" class="form-control" id="editName" placeholder="Masukkan nama makanan"
                 formControlName="name">
        </div>
        <div class="mb-3">
          <label for="editCategory" class="form-label">Kategori Makanan</label>
          <select class="form-select" id="editCategory">
            <option>------</option>
            <option>Makanan</option>
            <option>Minuman</option>
            <option>Snack</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="editPrice" class="form-label">Harga Makanan</label>
          <input type="number" class="form-control" id="editPrice" placeholder="Masukkan Harga Makanan"
                 formControlName="price">
        </div>
        <div class="mb-3">
          <label for="editHPP" class="form-label">HPP Makanan</label>
          <input type="number" class="form-control" id="editHPP" placeholder="Masukkan HPP Makanan"
                 formControlName="hpp">
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Tambah</button>
  </div>
</ng-template>

